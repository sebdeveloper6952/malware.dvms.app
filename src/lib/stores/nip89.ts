import { NDKAppHandlerEvent } from '@lib/models/Nip89AppHandler';
import { applicationHandlerKind, malwareScanningRequestKind } from '@lib/nostr/kinds';
import { NDKKind } from '@nostr-dev-kit/ndk';
import { ndk } from '@nostr/ndk';

export const nip89Store = ndk.storeSubscribe(
	[{ kinds: [applicationHandlerKind as NDKKind], '#k': [malwareScanningRequestKind.toString()] }],
	{ closeOnEose: false, autoStart: false },
	NDKAppHandlerEvent
);
