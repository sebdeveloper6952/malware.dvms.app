import { Nip90JobResultEvent } from '@lib/models/Nip90JobResult';
import { malwareScanningResultKind } from '@lib/nostr/kinds';
import { ndk } from '@lib/nostr/ndk';

export const searchJobResults = (query: string) => {
	return ndk.storeSubscribe(
		{
			kinds: [malwareScanningResultKind],
			search: query,
			limit: 25
		},
		{
			closeOnEose: true,
			autoStart: true
		},
		Nip90JobResultEvent
	);
};
