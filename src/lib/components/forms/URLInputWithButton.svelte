<script setup lang="ts">
	import { createEventDispatcher } from 'svelte';

	interface ComponentEvent {
		submit: { value: string };
	}

	export let value = '';
	export let type = 'text';
	export let label = 'Submit';

	$: disabled = value === '';

	const dispatch = createEventDispatcher<ComponentEvent>();
	const onInput = (e: Event) => (value = (e.target as HTMLInputElement).value);
</script>

<div class="flex">
	<input
		{value}
		{type}
		on:input={onInput}
		class="w-full px-2 py-2 bg-zinc-800 text-gray-100 border-l border-t border-b border-orange-700 rounded-l-lg focus:outline-none"
	/>

	<button
		on:click={() => {
			dispatch('submit', { value: value });
		}}
		{disabled}
		class="px-2 md:px-6 py-1 rounded-r-lg font-bold text-sm text-orange-700 border border-orange-700 hover:bg-orange-600/10 active:bg-orange-700/10 disabled:cursor-not-allowed disabled:hover:bg-orange-700/10"
	>
		{label}
	</button>
</div>
