<script setup lang="ts">
	import { createEventDispatcher } from 'svelte';
	import Icon from '@iconify/svelte';

	export let show = false;
	export let cancellable = false;

	const dispatch = createEventDispatcher();

	const onModalBackgroundClick = (event: MouseEvent) => {
		if (cancellable && event.target === event.currentTarget) {
			dispatch('close');
		}
	};
</script>

{#if show}
	<button
		on:click={onModalBackgroundClick}
		class="w-screen h-screen flex justify-center items-center absolute top-0 left-0 z-50 hover:cursor-default"
	>
		<div class="w-full h-full md:w-fit md:h-fit bg-zinc-800 rounded-lg z-50 relative">
			<slot />
			<div class="absolute top-1 right-1">
				<button
					on:click={() => {
						dispatch('close');
					}}
					class="rounded-full hover:bg-gray-400/50"
				>
					<button
						on:click={() => {
							dispatch('close');
						}}
						class="p-1 flex justify-center items-center"
					>
						<Icon icon="pixelarticons:close" width="24" height="24" />
					</button>
				</button>
			</div>
		</div>
	</button>
{/if}
